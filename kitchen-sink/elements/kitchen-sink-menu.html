<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/components/font-roboto/roboto.html">
<link rel="import" href="/components/core-elements/core-elements.html">
<link rel="import" href="/components/paper-elements/paper-elements.html">

<link rel="import" href="/asq-elements.html">

<polymer-element name="kitchen-sink-menu">
  <template>
  <style>
    #element-menu-container{
      height:100%;
    }

    #element-menu{
      margin: 0;
      font-size: 14px;
    }

    #element-menu core-item{
      padding: 0 12px;
      cursor: pointer;
    }

    #element-menu core-item:hover{
      background: rgba(79, 125, 201, 0.3);
    }

    #element-menu-header{
      font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; 
      font-weight: 500;
      font-size: 22px;
      padding:15px 10px 16px;
      margin: 5px 0;
      color: rgb(79, 125, 201);
      border-bottom: 1px solid rgba(0,0,0,0.12);
    }
  </style>
    <x-meta id="meta" categories="{{categories}}"></x-meta>
    <nav id="element-menu-nav" layout vertical>
      <h3 id="element-menu-header">ASQ elements</h3>
      <section id="element-menu-container" flex relative>
        <core-menu selected="0" multi id="element-menu" on-core-select="{{menuSelect}}" fit>  
          <template repeat="{{elem in elems}}">
            <core-item label="{{elem.name}}" tag="{{elem.name}}" url="{{elem.url}}"></core-item>
          </template>
        </core-menu>
      </section>
    </nav>
  </template>

<script>
  Polymer({
    elems: [
      {name: "asq-code"},
      {name: "asq-css-select"},
      {name: "asq-exercise"},
      {name: "asq-js-function-body"},
      {name: "asq-multi-choice"},
      {name: "asq-option"},
      {name: "asq-stem"},
      {name: "asq-text-input"}
    ],

    created: function () {
      this.elems.forEach(function(elem, index){
        elem.url = "/asq/" + elem.name + "/demo.html"
      });
    },

    menuSelect: function(e, detail) {
      console.log(detail.item);
      // if (detail.isSelected) {
      //   this.item = detail.item;
      //   if (this.item.children.length) {
      //     this.item.selected = 0;
      //   }
      //   this.item.tag = this.item.getAttribute('tag');
      //   var url = this.item.getAttribute('url');
      //   this.$.frame.contentWindow.location.replace(url);
      //   window.location.hash = this.item.tag;
      //   if (this.narrow) {
      //     this.$.drawerPanel.closeDrawer();
      //   } else {
      //     this.animateCard();
      //   }
      // }
    }
  });

  </script>
</polymer-element>

<kitchen-sink-menu></kitchen-sink-menu>
