<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../asq-element-setup/asq-element-setup.html">

<polymer-element name="asq-option" attributes="correctanswer">
  <template>
    <style>
    </style>

    <!-- template for viewer -->
    <template if="{{role=='viewer'}}">
      <div class="asq-option">
        <li>
          <input id="option" type="checkbox" name="option">
          <label for="option"><content></content></label>  
        </li>
      </div>
    </template>

    <!-- template for presenter -->
    <template  if="{{role=='presenter'}}">
      <div class="asq-option">
        <li>
          <content></content> 
        </li>
      </div>
    </template>    

  </template>
  <script>
    (function() {

      var p = {
        isCorrectAnswer: false,

        type_: "asq-option",
        
        created: function  () {
          if ( this.attributes.hasOwnProperty("correctanswer") ) {
            this.isCorrectAnswer = this.attributes["correctanswer"];
            // this.removeAttribute("correctanswer");
          } else {
            this.isCorrectAnswer = false;
          }

        },

        collectAnswer: function() {
          if ( this.role === "viewer" ) {
            return this.$.option.checked;
          }
        },
       
      }
      ASQ.mixin(p, ASQ.ElementType);
      ASQ.mixin(p, ASQ.Role);
      Polymer('asq-option', p);
    })()
    
  </script>
</polymer-element>